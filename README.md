# Тестовое задание

Веб-сервис для хранения, изменения информации о недвижимости строительной компании.
## Содержание

- [Стек технологий](#стек-технологий)
- [Инструкция по запуску](#инструкция-по-запуску)
- [Использование OpenAPI](#использование-openapi)
- [Описание предметной области](#описание-предметной-области)
- [Время выполнения задания](#время-выполнения-задания)

## Стек технологий
- Java 17
- Maven
- Spring Boot 3.0.5
- Spring Web
- PostgreSQL 13
- PostgreSQL Driver (JDBC and R2DBC)
- Spring Data JPA
- Hibernate validator
- Lombok
- MapStruct 1.5.4
  - Lombok mapstruct-binding 0.2.0
  - Plugins project-lombok
- Docker
  - Docker-compose v.3
- SwaggerEditor 3.0.2

## Инструкция по запуску
*Для тестирования работы test-work-app достаточно склонировать папку docker-compose со всеми включёнными в неё материалами, а также иметь установленный Docker в вашей системе, чтобы проинициализировать и запустить описанные в docker-compose.yml контейнеры.*
#### Пошагово:
- Склонируйте папку [docker-compose](https://github.com/MrRobinGoood/test-work-app/tree/master/docker-compose), либо весь репозиторий.
- Запустите Docker в вашей системе.
- Для запуска проекта необходимо запустить [docker-compose.yml](https://github.com/MrRobinGoood/test-work-app/blob/master/docker-compose/docker-compose.yml) файл из папки [docker-compose](https://github.com/MrRobinGoood/test-work-app/tree/master/docker-compose). 

Сделать это можно запустив следующую команду в консоли, находясь в директории docker-compose.
```
sudo docker-compose up -d
```
Для того чтобы успешно прошло создание контейнера с базой данных, необходимо, чтобы в [docker-compose](https://github.com/MrRobinGoood/test-work-app/tree/master/docker-compose) находилась папка-зависимость [sql](https://github.com/MrRobinGoood/test-work-app/tree/master/docker-compose/sql), включающая в себя бэкап-файл инициализации бд [init.sql](https://github.com/MrRobinGoood/test-work-app/blob/master/docker-compose/sql/init.sql).

## Использование OpenAPI

Когда docker контейнеры успешно запущены, вы можете протестировать работу веб-сервиса средствами SwaggerEditor.

Файл [openapi.yaml](https://github.com/MrRobinGoood/test-work-app/blob/master/openapi/openapi.yaml) с описанием API.

*Достаточно вставить содержимое файла в SwaggerEditor для отображения OpenAPI.*

## Описание предметной области

### Задача: 

Создание веб-сервиса для хранения, изменения информации о недвижимости строительной компании.

### Объекты задачи (находящиеся в отношении композиции):
- Здание
- Квартира

*Отношение один ко многим.*

### Бизнес-процессы: 

Создание, получение, обновление, удаление информации о зданиях и их квартирах, принадлежащих строительной компании.

### Характеристики объектов предметной области:

Здание: 
- адрес
- дата постройки
- этажность
- количество подъездов
- наличие парковки

Квартира: 
- площадь
- количество комнат
- этаж
- отделка
- цена 

*При добавлении информации все поля обязательны к заполнению, кроме поля отделка квартиры.*

## Возможные операции над объектами

Здание:

- Создание здания
- Получение информации о конкретном здании
- Обновление информации здания
- Удаление здания
- Получение списка информации о всех зданиях

Квартира:

- Создание квартиры, привязанной к конкретному зданию
- Получение списка информации о квартирах принадлежащих конкретному зданию
- Получение информации о конкретной квартире
- Обновление информации квартиры
- Удаление квартиры

*В случае удаления конкретного здания, все привязанные к нему квартиры будут также удалены.*

## Время выполнения задания
### Итого: 12,5 часов. 
- (1ч) Анализ задачи, создание композиции, выбор технологий
- (1,5ч) Написание REST API
- (0,5ч) Создание структуры бд PostgreSQL
- (0,5ч) Подключение бд к среде разработки, создание базовых сущностей
- (1,5ч) Создание связей между сущностями, создание DTO
- (4ч) Разработка CRUD функционала
- (1ч) Обработка исключений
- (1ч) Отладка и проверка работоспособности
- (1,5ч) Написание Readme, сопроводительной документации
- (Дополнительно 3ч) контейнеризация сервиса в docker-compose

*Время docker не учитывается, т.к это дополнительная задача и это был мой первый опыт работы с docker.*


